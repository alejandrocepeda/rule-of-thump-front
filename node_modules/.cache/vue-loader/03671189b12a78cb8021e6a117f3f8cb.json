{"remainingRequest":"/home/alejandro/Desktop/projects/rule-of-thump/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/alejandro/Desktop/projects/rule-of-thump/front/src/pages/app/auth/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/alejandro/Desktop/projects/rule-of-thump/front/src/pages/app/auth/index.vue","mtime":1598332776727},{"path":"/home/alejandro/Desktop/projects/rule-of-thump/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alejandro/Desktop/projects/rule-of-thump/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/alejandro/Desktop/projects/rule-of-thump/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/alejandro/Desktop/projects/rule-of-thump/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgoKZXhwb3J0IGRlZmF1bHQgewogICAgZGF0YSAoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgZm9ybTogewogICAgICAgICAgICAgICAgZW1haWw6ICdhbGVqYW5kcm9jZXBlZGEyNUBnbWFpbC5jb20nLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICcwMTAyMDMnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGVycm9yczogewogICAgICAgICAgICAgICAgZW1haWw6IGZhbHNlLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6IGZhbHNlLAogICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6IGZhbHNlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLCAgICAgICAgICAgIAogICAgICAgIH0KICAgIH0sCiAgICB3YXRjaDogewogICAgICAgICdmb3JtLmVtYWlsJzogZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgIGxldCBhcHAgPSB0aGlzCiAgICAgICAgICAgIGFwcC5lcnJvcnMuY3JlZGVudGlhbHMgPSBmYWxzZQoKICAgICAgICAgICAgaWYgKCF2YWx1ZSkgewogICAgICAgICAgICAgICAgYXBwLmVycm9ycy5lbWFpbCA9ICdFbWFpbCByZXF1aXJlZC4nCiAgICAgICAgICAgIH0gZWxzZSBpZiAoIWFwcC52YWxpZEVtYWlsKHZhbHVlKSkgewogICAgICAgICAgICAgICAgYXBwLmVycm9ycy5lbWFpbCA9ICdWYWxpZCBlbWFpbCByZXF1aXJlZC4nCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhcHAuZXJyb3JzLmVtYWlsID0gZmFsc2UKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgJ2Zvcm0ucGFzc3dvcmQnOiBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgbGV0IGFwcCA9IHRoaXMKICAgICAgICAgICAgYXBwLmVycm9ycy5jcmVkZW50aWFscyA9IGZhbHNlCiAgICAgICAgICAgIGlmICh2YWx1ZSkgewogICAgICAgICAgICAgICAgYXBwLmVycm9ycy5wYXNzd29yZCA9IGZhbHNlCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhcHAuZXJyb3JzLnBhc3N3b3JkID0gJ1Bhc3dvcmQgcmVxdWlyZWQuJwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwgICAgCiAgICBtZXRob2RzIDogeyAgICAKICAgICAgICB2YWxpZGZvcm0oKSB7CiAgICAgICAgICAgIGxldCBhcHAgPSB0aGlzCgogICAgICAgICAgICBpZiAoIWFwcC5mb3JtLnBhc3N3b3JkKSB7CiAgICAgICAgICAgICAgICBhcHAuZXJyb3JzLnBhc3N3b3JkID0gJ1Bhc3dvcmQgcmVxdWlyZWQuJwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoIWFwcC5mb3JtLmVtYWlsKSB7CiAgICAgICAgICAgICAgICBhcHAuZXJyb3JzLmVtYWlsID0gJ0VtYWlsIHJlcXVpcmVkLicKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCFhcHAuZXJyb3JzLmVtYWlsICYmICFhcHAuZXJyb3JzLnBhc3N3b3JkICYmIGFwcC52YWxpZEVtYWlsKGFwcC5mb3JtLmVtYWlsKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfSwKICAgICAgICB2YWxpZEVtYWlsIChlbWFpbCkgewogICAgICAgICAgICB2YXIgcmUgPSAvXigoW148PigpXFtcXVxcLiw7OlxzQCJdKyhcLltePD4oKVxbXF1cXC4sOzpcc0AiXSspKil8KCIuKyIpKUAoKFxbWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVxdKXwoKFthLXpBLVpcLTAtOV0rXC4pK1thLXpBLVpdezIsfSkpJC87CiAgICAgICAgICAgIHJldHVybiByZS50ZXN0KGVtYWlsKQogICAgICAgIH0sICAgICAgICAgICAKICAgICAgICBMb2dpbigpewogICAgICAgICAgICAKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICh0aGlzLnZhbGlkZm9ybSgpKSB7CgogICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICAgICAgICAgICAgY29uc3QgYXBwID0gdGhpcwoKICAgICAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7CiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMuZm9ybS5lbWFpbCwKICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogdGhpcy5mb3JtLnBhc3N3b3JkCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdBdXRoQmFzaWMnLHBheWxvYWQpCiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnU0VUX09QRU5fTU9EQUwnLGZhbHNlKSAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewoKICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JzLmNyZWRlbnRpYWxzID0gJ0luY29ycmVjdCBlbWFpbCBvciBwYXNzd29yZCcKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcnMuY3JlZGVudGlhbHMgPSBmYWxzZQogICAgICAgICAgICAgICAgICAgIH0sMzAwMCkKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgIH0sCiAgICAgICAgCiAgICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;;AAGA;;AAEA;;AAEA;AACA","file":"index.vue","sourceRoot":"src/pages/app/auth","sourcesContent":["<template>\n    <div>\n        <div class=\"align-items-center auth-login\">\n            <div class=\"row w-100 mx-auto\">\n                    \n                <div class=\"col-md-12 mx-auto p-5\">\n                            \n                    <div class=\"auto-form-wrapper\"> \n                            \n                            \n\n                                <div class=\"form-group\">\n                                    \n                                    <div class=\"input-group\" :class=\"{'is-danger': errors.email }\">\n                                        \n                                        <input class=\"form-control input-border\" v-model=\"form.email\" type=\"email\" placeholder=\"Username or email\">\n                                    </div>\n                                    <span v-if=\"errors.email\" class=\"text-danger float-left small\">{{ errors.email }}</span>\n                                </div>\n\n                                <div class=\"form-group \">\n                                    \n                                    <div class=\"input-group\" :class=\"{'is-danger': errors.password }\">\n                                        <input class=\"form-control input-border\" v-model=\"form.password\" type=\"password\" placeholder=\"Password\">\n                                    </div>\n                                    \n                                    <span v-if=\"errors.password\" class=\"text-danger float-left small\">{{ errors.password }}</span>\n                                </div>\n\n                                <div class=\"form-group \">\n                                    <button  @click=\"Login()\" type=\"button\" class=\"mt-4 btn btn-success btn-lg btn-block full_rounded\">\n                                        \n                                        Sign in\n                                    </button>\n\n                                    \n\n                                    <transition name=\"fade\">\n                                        \n                                        <b-alert v-show=\"errors.credentials\" show class=\"mt-4\" variant=\"danger\">\n                                            {{ errors.credentials }}\n                                        </b-alert>\n                                        \n\n                                    </transition>\n                                    \n                                </div>\n\n                              \n                                \n                                \n                                \n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n\n<script>\n\n\nexport default {\n    data () {\n        return {\n            form: {\n                email: 'alejandrocepeda25@gmail.com',\n                password: '010203'\n            },\n            errors: {\n                email: false,\n                password: false,\n                credentials: false\n            },\n            loading: false,            \n        }\n    },\n    watch: {\n        'form.email': function (value) {\n            let app = this\n            app.errors.credentials = false\n\n            if (!value) {\n                app.errors.email = 'Email required.'\n            } else if (!app.validEmail(value)) {\n                app.errors.email = 'Valid email required.'\n            } else {\n                app.errors.email = false\n            }\n        },\n        'form.password': function (value) {\n            let app = this\n            app.errors.credentials = false\n            if (value) {\n                app.errors.password = false\n            } else {\n                app.errors.password = 'Pasword required.'\n            }\n        }\n    },    \n    methods : {    \n        validform() {\n            let app = this\n\n            if (!app.form.password) {\n                app.errors.password = 'Pasword required.'\n            }\n\n            if (!app.form.email) {\n                app.errors.email = 'Email required.'\n            }\n\n            if (!app.errors.email && !app.errors.password && app.validEmail(app.form.email)) {\n                return true\n            }\n\n            return false\n        },\n        validEmail (email) {\n            var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n            return re.test(email)\n        },           \n        Login(){\n            \n            \n            if (this.validform()) {\n\n                this.loading = true\n                const app = this\n\n                const payload = {\n                    username: this.form.email,\n                    password: this.form.password\n                }\n                \n                this.$store.dispatch('AuthBasic',payload)\n                .then((response) => {\n                    \n                    this.loading = false\n                    this.$store.commit('SET_OPEN_MODAL',false)                    \n                })\n                .catch((error) => {\n\n                    this.loading = false\n                    \n                    this.errors.credentials = 'Incorrect email or password'\n                    \n                    setTimeout(() => {\n                        this.errors.credentials = false\n                    },3000)\n                    \n                })\n                \n                \n            }\n            \n        },\n        \n    }\n}\n</script>\n\n<style scope>\n\n.ml-3, .mx-3{\n    margin-left: 0 !important;\n}\n\n.btn-fb {\n    color: #fff;\n    background-color: #3b5998 !important;\n}\n</style>\n"]}]}